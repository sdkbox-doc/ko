<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Ads with C++ - SDKBOX</title>
        
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/base.css?2" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/custom.css" rel="stylesheet">
        

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="http://sdkbox.com"><img src="http://www.cocos2d-x.org/s/sdkbox/SDKBOX_logo.png">Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav navbar-right">


            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Overview</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cocos2d-x <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../cocos/">Overview</a>
</li>

                        
                            
<li >
    <a href="../../../installer/">CLI Installer</a>
</li>

                        
                            
<li >
    <a href="../../../qa/integration-admob-to-creator/">For Cocos Creator</a>
</li>

                        
                            
  
  <li class="dropdown-submenu">
    <a tabindex="-1" class="non-link">Plugins</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../achievement/">Achievements</a>
</li>

        
            
  

        
            
<li >
    <a href="../../adcolony/">AdColony</a>
</li>

        
            
  

        
            
<li >
    <a href="../../admob/">AdMob</a>
</li>

        
            
  

        
            
<li >
    <a href="../../agecheq/">AgeCheq</a>
</li>

        
            
  

        
            
<li >
    <a href="../../appnext/">Appnext</a>
</li>

        
            
  

        
            
<li >
    <a href="../../appodeal/">Appodeal</a>
</li>

        
            
  

        
            
<li >
    <a href="../../amazon/">Amazon</a>
</li>

        
            
  

        
            
<li >
    <a href="../../apteligent/">Apteligent</a>
</li>

        
            
  

        
            
<li >
    <a href="../../bee7/">Bee7</a>
</li>

        
            
  

        
            
<li >
    <a href="../../chartboost/">Chartboost</a>
</li>

        
            
  

        
            
<li >
    <a href="../../facebook/">Facebook</a>
</li>

        
            
  

        
            
<li >
    <a href="../../flurryanalytics/">Flurry Analytics</a>
</li>

        
            
  

        
            
<li >
    <a href="../../fyber/">Fyber</a>
</li>

        
            
  

        
            
<li >
    <a href="../../googleanalytics/">Google Analytics</a>
</li>

        
            
  

        
            
<li >
    <a href="../../googleplay/">Google Play Games</a>
</li>

        
            
  

        
            
<li >
    <a href="../../iap/">In-App Purchase</a>
</li>

        
            
  

        
            
<li >
    <a href="../../inmobi/">InMobi</a>
</li>

        
            
  

        
            
<li >
    <a href="../../kochava/">Kochava</a>
</li>

        
            
  

        
            
<li >
    <a href="../../leadbolt/">LeadBolt</a>
</li>

        
            
  

        
            
<li >
    <a href="../../leaderboard/">Leaderboard</a>
</li>

        
            
  

        
            
<li >
    <a href="../../onesignal/">OneSignal</a>
</li>

        
            
  

        
            
<li >
    <a href="../../playphone/">Playphone</a>
</li>

        
            
  

        
            
<li >
    <a href="../../phunwareads/">Phunware Ads</a>
</li>

        
            
  

        
            
<li >
    <a href="../../review/">Ratings & Reviews</a>
</li>

        
            
  

        
            
<li >
    <a href="../">SDKBOX Ads</a>
</li>

        
            
  

        
            
<li >
    <a href="../../sdkboxplay/">SDKBOX Play</a>
</li>

        
            
  

        
            
<li >
    <a href="../../share/">Social Sharing</a>
</li>

        
            
  

        
            
<li >
    <a href="../../tune/">Tune</a>
</li>

        
            
  

        
            
<li >
    <a href="../../valuepotion/">Valuepotion</a>
</li>

        
            
  

        
            
<li >
    <a href="../../vungle/">Vungle</a>
</li>

        
            
  

        
            
<li >
    <a href="../../youtube/">Youtube</a>
</li>

        
            
  

        
    </ul>
  </li>
  

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Unity <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../unity/allinone/">SDKBOX AllInOne</a>
</li>

                        
                            
<li >
    <a href="../../../unity/iap/">In-App Purchase</a>
</li>

                        
                            
<li >
    <a href="../../../unity/review/">Ratings & Reviews</a>
</li>

                        
                            
<li >
    <a href="../../../unity/socialshare/">SocialShare</a>
</li>

                        
                            
<li >
    <a href="../../../unity/googleanalytics/">Google Analytics</a>
</li>

                        
                            
<li >
    <a href="../../../unity/sdkboxplay/">SDKBOX Play</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Unreal <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../unreal/iap/">In-App Purchase</a>
</li>

                        
                            
<li >
    <a href="../../../unreal/chartboost/">Chartboost</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">LiveOps <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../liveops/">Setup</a>
</li>

                        
                            
<li >
    <a href="../../../liveops/remote-config/">Remote Configuration</a>
</li>

                        
                            
<li >
    <a href="../../../liveops/receipt-verification/">Server-side IAP receipt verification</a>
</li>

                        
                            
<li >
    <a href="../../../liveops/catalog-management/">On-the-fly catalog management</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../qa/integration-admob-to-creator/">Admob in Creator</a>
</li>

                        
                            
<li >
    <a href="../../../qa/integration-fyber-to-cocos/">Fyber with Cocos2d-x</a>
</li>

                        
                            
<li >
    <a href="../../../qa/fb-share-on-cocos/">Facebook with Cocos2d-x</a>
</li>

                        
                            
<li >
    <a href="../../../qa/android_64k/">Fix Android 64K methods limit</a>
</li>

                        
                            
<li >
    <a href="../../../qa/integration-iap-on-unity/">IAP with Unity</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../release-note/">About</a>
                    </li>
                
                

                <li style="margin-left:30px">
                    <a href="http://sdkbox-doc.github.io/zh/">中文</a>
                </li>
                
                </ul>
            




            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#prerequisites">Prerequisites</a></li>
	
    
        <li class="main "><a href="#integration">Integration</a></li>
	
	<ul class="sub-sidenav">
        
            <li><a href="#json-configuration">JSON Configuration</a></li>
        
	</ul>
	
    
        <li class="main "><a href="#usage">Usage</a></li>
	
	<ul class="sub-sidenav">
        
            <li><a href="#initialize-sdkboxads">Initialize SdkboxAds</a></li>
        
            <li><a href="#using-sdkboxads">Using SdkboxAds</a></li>
        
            <li><a href="#sdkboxads-events">SdkboxAds events</a></li>
        
	</ul>
	
    
        <li class="main "><a href="#api-reference">API Reference</a></li>
	
	<ul class="sub-sidenav">
        
            <li><a href="#methods">Methods</a></li>
        
            <li><a href="#listeners">Listeners</a></li>
        
	</ul>
	
    
        <li class="main "><a href="#manual-integration">Manual Integration</a></li>
	
    
        <li class="main "><a href="#manual-integration-for-ios">Manual Integration For iOS</a></li>
	
    
        <li class="main "><a href="#manual-integration-for-android">Manual Integration For Android</a></li>
	
	<ul class="sub-sidenav">
        
            <li><a href="#copy-files">Copy Files</a></li>
        
            <li><a href="#edit-androidmanifestxml">Edit AndroidManifest.xml</a></li>
        
            <li><a href="#edit-androidmk">Edit Android.mk</a></li>
        
            <li><a href="#edit-applicationmk">Edit Application.mk</a></li>
        
            <li><a href="#important">Important</a></li>
        
            <li><a href="#modify-java">Modify .java</a></li>
        
	</ul>
	
    
        <li class="main "><a href="#proguard-optional">Proguard (optional)</a></li>
	
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p><a href="../">&#8249; SdkboxAds Doc Home</a></p>
<h1>SdkboxAds Integration Guide</h1>

<h4><em><b>For the C++ version of cocos2d-x v2.x</b> - (<a href="./../">all other versions</a>)</em></h4>

<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>None</li>
</ul>
<h2 id="integration">Integration</h2>
<p>Open a terminal and use the following command to install the SDKBOX SdkboxAds plugin. Make sure you setup the SDKBOX installer correctly.</p>
<pre><code class="bash">$ sdkbox import sdkboxads
</code></pre>

<!--## Configuration

## Remote Configuration

Optionally, you can choose to use SDKBOX LiveOps to remotely update this plugin's configuration. [Learn more](/liveops/remote-config)-->

<h3 id="json-configuration">JSON Configuration</h3>
<p>SDKBOX Installer will automatically create a sample configuration <code>sdkbox_config.json</code> for you</p>
<p>Here is an example of the SdkboxAds configuration:</p>
<pre><code class="json">    &quot;SdkboxAds&quot;: {
        &quot;units&quot;: [
                &quot;AdColony&quot;,
                &quot;Fyber&quot;,
                &quot;Chartboost&quot;,
                &quot;Vungle&quot;
            ],
        &quot;placements&quot;: [
            {
                &quot;id&quot; : &quot;placement-1&quot;,
                &quot;strategy&quot; : &quot;round-robin&quot;,
                &quot;units&quot; : [
                    {
                      &quot;unit&quot;: &quot;AdColony&quot;,
                      &quot;name&quot;: &quot;video&quot;
                    },
                    {
                      &quot;unit&quot;: &quot;Chartboost&quot;,
                      &quot;name&quot;: &quot;Default&quot;
                    }
                ]
            },
            {
                &quot;id&quot; : &quot;placement-2&quot;,
                &quot;strategy&quot; : &quot;round-robin&quot;,
                &quot;units&quot; : [
                    {
                      &quot;unit&quot;: &quot;Vungle&quot;,
                      &quot;name&quot;: &quot;reward&quot;
                    },
                    {
                      &quot;unit&quot;: &quot;AdColony&quot;,
                      &quot;name&quot;: &quot;v4vc&quot;
                    },
                    {
                      &quot;unit&quot;: &quot;Chartboost&quot;,
                      &quot;name&quot;: &quot;Next Level&quot;
                    }
                ]
            }
        ] 
    }
</code></pre>

<!---->

<h2 id="usage">Usage</h2>
<h3 id="initialize-sdkboxads">Initialize SdkboxAds</h3>
<p>Initialize the plugin where appropriate in your code. We recommend to do this in the <code>AppDelegate::applicationDidFinishLaunching()</code> or <code>AppController:didFinishLaunchingWithOptions()</code>. Make sure to include the appropriate headers:</p>
<pre><code class="cpp">#include &quot;PluginSdkboxAds/PluginSdkboxAds.h&quot;
AppDelegate::applicationDidFinishLaunching()
{
     sdkbox::PluginSdkboxAds::init();
}
</code></pre>

<h3 id="using-sdkboxads">Using SdkboxAds</h3>
<h4 id="configuration">Configuration</h4>
<p>SdkboxAds is an ad mediation service. This means it will manage at runtime a set of predefined AdUnits.
The configuration spans in two different parts: AdUnits, and Placements. Each AdUnit will reference to an Sdkbox plugin
that can be managed as an AdUnit.
The configuration could be:
<pre>
    "SdkboxAds": {
        "units": [
            "AdColony",
            "Fyber",
            "Chartboost",
            "Vungle"
        ]
    }
</pre></p>
<p>Placements are references to specific ads in a given AdUnit. A whole SdkboxAds config file could be:</p>
<pre>
    "SdkboxAds": {
        "units": [
                "AdColony",
                "Fyber",
                "Chartboost",
                "Vungle"
            ],
        "placements": [
            {
                "id" : "placement-1",
                "strategy" : "round-robin",
                "units" : [
                    {
                      "unit": "AdColony",
                      "name": "video"
                    },
                    {
                      "unit": "Chartboost",
                      "name": "Default"
                    }
                ]
            },
            {
                "id" : "placement-2",
                "strategy" : "round-robin",
                "units" : [
                    {
                      "unit": "Vungle",
                      "name": "reward"
                    },
                    {
                      "unit": "AdColony",
                      "name": "v4vc"
                    },
                    {
                      "unit": "Chartboost",
                      "name": "Next Level"
                    }
                ]
            }
        ] 
    }
</pre>

<h4 id="usage_1">Usage</h4>
<p>A call to <code>sdkbox::SdkboxAds::init()</code> will suffice to instantiate and manage all referenced AdUnits in the configuration
file.</p>
<p>To request a default Ad for the default AdUnit and have a fast integration test:</p>
<pre><code class="cpp">sdkbox::PluginSdkboxAds::playAd()
</code></pre>

<p>To request Ads in the Default AdUnit:</p>
<pre><code class="cpp">sdkbox::PluginSdkboxAds::playAd( const std::string&amp; zone_place_location );
sdkbox::PluginSdkboxAds::playAd( const std::string&amp; zone_place_location, const AdUnitParams&amp; params );

// AdUnitParams is a typedef for std::map&lt;std::string,std::string&gt;
</code></pre>

<blockquote>
<p>Note: the params are defined per AdUnit, and should be checked in each AdUnit's documentation.</p>
</blockquote>
<p>To request Ads for an specific AdUnit:</p>
<pre><code class="cpp">sdkbox::PluginSdkboxAds::playAd( 
        const std::string&amp; ad_unit_name, 
        const std::string&amp; zone_place_location );

sdkbox::PluginSdkboxAds::playAd( 
        const std::string&amp; ad_unit_name, 
        const std::string&amp; zone_place_location, 
        const AdUnitParams&amp; params );
</code></pre>

<p>To request ads for a placement defined in the sdkbox_config.json file:</p>
<pre><code class="cpp">sdkbox::PluginSdkboxAds::placement( const str::string&amp; placement );
</code></pre>

<p>To have fine grained cache control (for AdUnits that expose it):</p>
<pre><code class="cpp">sdkbox::PluginSdkboxAds::cacheControl( 
        const std::string&amp; ad_unit, 
        const std::map&lt;std::string, std::string&gt;&amp; cacheOpts );
</code></pre>

<blockquote>
<p>Cache options are AdUnit specific and must be checked in each AdUnit's documentation.</p>
</blockquote>
<h3 id="sdkboxads-events">SdkboxAds events</h3>
<p>This allows you to catch <code>SdkboxAds</code>' events.</p>
<ul>
<li>Allow your class to extend <code>sdkbox::SdkboxAdsListener</code> and override the functions listed:</li>
</ul>
<pre><code class="cpp">#include &quot;PluginSdkboxAds/PluginSdkboxAds.h&quot;
class MyClass : public sdkbox::SdkboxAdsListener
{
private:
    void onAdAction( 
            const std::string&amp; ad_unit_id, 
            const std::string&amp; zone_location_place_you_name_it, 
            sdkbox::AdActionType action_type);

    void onRewardAction( 
            const std::string&amp; ad_unit_id, 
            const std::string&amp; zone_id, 
            float reward_amount, 
            bool reward_succeed);

};
</code></pre>

<blockquote>
<p><code>sdkbox::AdActionType</code> is an enum with these values:</p>
</blockquote>
<pre><code class="cpp">    enum AdActionType {

        LOADED=0,               // content loaded
        LOAD_FAILED,            // content failed to load

        CLICKED,                // clicked on content

        REWARD_STARTED,     // reward started
        REWARD_ENDED,           // reward achieved
        REWARD_CANCELED,        // reward aborted

        AD_STARTED,             // start showing.
        AD_CANCELED,            // start showing.
        AD_ENDED,               // content shown

        ADACTIONTYPE_UNKNOWN    // mostly on error situations.

    };

</code></pre>

<ul>
<li>Create a <strong>listener</strong> that handles callbacks:</li>
</ul>
<pre><code class="cpp">sdkbox::PluginSdkboxAds::setListener( new MyClass() );
</code></pre>

<h2 id="api-reference">API Reference</h2>
<h3 id="methods">Methods</h3>
<pre><code class="cpp">static void init ( ) ;
</code></pre>

<blockquote>
<p>initialize the plugin instance.</p>
</blockquote>
<pre><code class="cpp">static void setListener ( SdkboxAdsListener * listener ) ;
</code></pre>

<blockquote>
<p>Set listener to listen for SdkboxAds events</p>
</blockquote>
<pre><code class="cpp">static void playAd()
</code></pre>

<blockquote>
<p>Each unit knows how to play an ad by default.  So this method will play a default Ad for the default AdUnit.</p>
</blockquote>
<pre><code class="cpp">static void playAd(const std::string&amp; );
</code></pre>

<blockquote>
<p>Play an identified by name on the Default AdUnit</p>
</blockquote>
<pre><code class="cpp">static void playAd(const std::string&amp;, const AdUnitParams&amp; params );
</code></pre>

<blockquote>
<p>Eventually, an AdUnit may need some extra hints to play an ad, like position on screen, transparency, etc. Each AdUnit will document what extra hints can be passed to play an Ad. Currently none of the AdUnits need this parameter.</p>
</blockquote>
<pre><code class="cpp">static void playAd(
        const std::string&amp; ad_unit, 
        const std::string&amp; zone_place_location );
</code></pre>

<blockquote>
<p>Play an ad name, for a given AdUnit. AdUnits are idenfitied by name. So a valid example call would be: 
<code>sdkbox::SdkboxAds::playAd(“AdColony”, “video”);</code>.</p>
</blockquote>
<pre><code class="cpp">static void playAd(
        const std::string&amp; ad_unit, 
        const std::string&amp; zone_place_location, 
        const AdUnitParams&amp; params );
</code></pre>

<blockquote>
<p>Again, should an AdUnit need extra parameters, use this method. If you pass values to an AdUnit that does need need, they will simply be ignored.</p>
</blockquote>
<pre><code class="cpp">static void placement(const std::string&amp; placement);
</code></pre>

<blockquote>
<p>When you want to invoke a placement, just call this method. If the placement does not exist, the call will just be ignored. A placement will take care of AdUnit’s cache control, so if the current AdUnit has no cached content, or the AdUnit fails to load an ad, the next adUnit will be used.</p>
</blockquote>
<pre><code class="cpp">static void cacheControl( 
        const std::string&amp; ad_unit, 
        const std::map&lt;std::string, std::string&gt;&amp; cacheOpts );
</code></pre>

<blockquote>
<p>Some Ad units expose fine-grained cache control. For example Chartboost offers specific cache control for each location, as well as general Ads cache control. This method interfaces with the AdUnit’s cache mechanism. If no cache control is exposed for a given AdUnit, the call will silently be ignored. Each AdUnit will document what valid values to pass to the cacheOpts parameter. E.g. for Chartboost, these are valid values:</p>
<p>"Default": true,     // a configuration location
 "Level Complete": true,  // a configuration location
 "<strong>ADS</strong>": true      // a general placeholder chartboost specific </p>
</blockquote>
<h3 id="listeners">Listeners</h3>
<pre><code class="cpp">void onAdAction( 
        const std::string&amp; ad_unit_id, 
        const std::string&amp; zone_location_place_you_name_it, 
        sdkbox::AdActionType action_type);
</code></pre>

<blockquote>
<p>This method notifies back with the AdUnit identifier, the Ad name it tried to play, and an enum type of the action it is communicating about.
The Action type is the following enum:</p>
</blockquote>
<pre><code class="cpp">    enum AdActionType {

        LOADED=0,               // content loaded
        LOAD_FAILED,            // content failed to load

        CLICKED,                // clicked on content

        REWARD_STARTED,     // reward started
        REWARD_ENDED,           // reward achieved
        REWARD_CANCELED,        // reward aborted

        AD_STARTED,             // start showing.
        AD_CANCELED,            // start showing.
        AD_ENDED,               // content shown

        ADACTIONTYPE_UNKNOWN    // mostly on error situations.

    };
</code></pre>

<blockquote>
<p>Not all AdUnits will expose all types of events. For example, Chartboost notifies CLICKED action, but AdColony does not. Each AdUnit’s documentation will reflect what events will notify.</p>
</blockquote>
<pre><code class="cpp">void onRewardAction( 
        const std::string&amp; ad_unit_id, 
        const std::string&amp; zone_id, 
        float reward_amount, 
        bool reward_succeed);
</code></pre>

<h2 id="manual-integration">Manual Integration</h2>
<p>If the <em>SDKBOX Installer</em> <strong>fails</strong> to complete successfully, it is possible to integrate SDKBOX manually. If the installer complete successfully, please <strong>do not</strong> complete anymore of this document. It is not necessary.</p>
<p>These steps are listed last in this document on purpose as they are seldom needed. If you find yourself using these steps, please, after completing, double back and re-read the steps above for other integration items.</p>
<h2 id="manual-integration-for-ios">Manual Integration For iOS</h2>
<p>Drag and drop the following frameworks from the <strong>plugins/ios</strong> folder of
the <code>SdkboxAds</code> bundle into your Xcode project, check <code>Copy items if needed</code> when adding frameworks:</p>
<blockquote>
<p>sdkbox.framework</p>
<p>PluginSdkboxAds.framework</p>
</blockquote>
<p>The above frameworks depend upon a large number of other frameworks. You also need to add the following system frameworks, if you don't already have them:</p>
<blockquote>
<p>Security.framework</p>
<p>AdSupport.framework</p>
</blockquote>
<p>Also, <em>all</em> frameworks needed by each AdUnit you will be adding to SdkboxAds.</p>
<h2 id="manual-integration-for-android">Manual Integration For Android</h2>
<p>SDKBOX supports three different kinds of <strong>Android</strong> projects <strong>command-line</strong>, <strong>eclipse</strong> and <strong>Android Studio</strong>. </p>
<ul>
<li><code>proj.android</code> will be used as our <code>&lt;project_root&gt;</code> for <strong>command-line</strong> and <strong>eclipse</strong> project</li>
<li><code>proj.android-studio</code> will be used as our <code>&lt;project_root&gt;</code> for <strong>Android Studio</strong> project.</li>
</ul>
<h3 id="copy-files">Copy Files</h3>
<p>Copy the following <strong>jar</strong> files from <code>plugin/android/libs</code> folder of this
bundle into your project’s <strong>proj.android/libs</strong> folder.</p>
<blockquote>
<p>PluginSdkboxAds.jar
sdkbox.jar</p>
</blockquote>
<p>Copy the <code>sdkboxads_lib</code> directories from <code>plugin/android/libs</code> to your <code>proj.android/libs/</code> directory.</p>
<h4 id="copy-jni-libs">Copy jni libs</h4>
<p>Copy and overwrite all the folders from <code>plugin/android/jni</code>
to your <code>&lt;project_root&gt;/jni/</code> directory.</p>
<blockquote>
<p>Note: sdkbox link with <code>gnustl</code> by default, if your project link with <code>c++static</code> please replace the files in <code>&lt;project_root&gt;/jni/&lt;plugin_name&gt;/libs</code> with files in <code>&lt;project_root&gt;/jni/&lt;plugin_name&gt;/libs_c++_static</code> folder</p>
</blockquote>
<h3 id="edit-androidmanifestxml">Edit <code>AndroidManifest.xml</code></h3>
<p>Include the following permissions above the <strong>application tag</strong>:</p>
<pre><code class="xml">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
</code></pre>

<p>To enable <strong>hardware acceleration</strong> in your <strong>application tag</strong>. This tag is
optional on newer sdk versions and doesn't work on version 2.3.3.</p>
<pre><code class="xml">&lt;android:hardwareAccelerated=&quot;true&quot; /&gt;
</code></pre>

<h3 id="edit-androidmk">Edit <code>Android.mk</code></h3>
<p>Edit <code>proj.android/jni/Android.mk</code> to:</p>
<p>Add additional requirements to <strong>LOCAL_WHOLE_STATIC_LIBRARIES</strong>:</p>
<pre><code>LOCAL_WHOLE_STATIC_LIBRARIES += android_native_app_glue
LOCAL_LDLIBS += -landroid
LOCAL_LDLIBS += -llog
LOCAL_WHOLE_STATIC_LIBRARIES += PluginSdkboxAds
LOCAL_WHOLE_STATIC_LIBRARIES += sdkbox 
</code></pre>

<p>Add a call to:</p>
<pre><code>$(call import-add-path,$(LOCAL_PATH))
</code></pre>

<p>before any <strong>import-module</strong> statements.</p>
<p>Add additional <strong>import-module</strong> statements at the end:</p>
<pre><code>$(call import-module, ./sdkbox)
$(call import-module, ./pluginsdkboxads)
</code></pre>

<p>This means that your ordering should look similar to this:</p>
<pre><code>$(call import-add-path,$(LOCAL_PATH))
$(call import-module, ./sdkbox)
$(call import-module, ./pluginsdkboxads)
</code></pre>

<h3 id="edit-applicationmk">Edit <code>Application.mk</code></h3>
<p>Edit <code>proj.android/jni/Application.mk</code> to:</p>
<p>Add <strong>APP_PLATFORM</strong> version requirements:</p>
<pre><code>APP_PLATFORM := android-10
</code></pre>

<h3 id="important">Important</h3>
<p>For each AdUnit, you have to add:</p>
<p>JNI:</p>
<p>All AdUnit's JNI library contents.</p>
<p>Manifest:</p>
<p>All changes needed by each AdUnit's plugin.</p>
<p><strong>jar</strong>:</p>
<p>Jar files necessary for included AdUnits. Basically all jar files present in the Plugin's lib folder.</p>
<p><strong>LOCAL_WHOLE_STATIC_LIBRARIES</strong> the module references for each of them, e.g.:</p>
<pre><code>LOCAL_WHOLE_STATIC_LIBRARIES += pluginvungle
LOCAL_WHOLE_STATIC_LIBRARIES += pluginadcolony
</code></pre>

<p>Android.mk <strong>import-module</strong>:</p>
<pre><code>$(call import-module, ./pluginadcolony)
$(call import-module, ./pluginvungle)
</code></pre>

<h3 id="modify-java">Modify <strong><YourGameName>.java</strong></h3>
<ul>
<li>Modify <strong>proj.android/src/<package identifier>/<YourGameName>.java</strong> to add the following imports:</li>
</ul>
<pre><code class="java">import android.content.Intent;
import com.sdkbox.plugin.SDKBox;
</code></pre>

<ul>
<li>Second, modify the class to edit the <code>onCreate(final Bundle savedInstanceState)</code> function to add a call to <code>SDKBox.init(this);</code>. Example of what this might look like for you:</li>
</ul>
<pre><code class="java">protected void onCreate(Bundle savedInstanceState){
  super.onCreate(savedInstanceState);
  SDKBox.init(this);
}
</code></pre>

<ul>
<li>
<p>Last, we need to insert the proper <strong>overrides</strong> code. There are a few rules here.</p>
<ul>
<li>
<p>If the method listed has not been defined, <strong>add it</strong>.</p>
</li>
<li>
<p>If the method listed has been defined, add the calls to <code>SDKBox</code> in the <strong>same</strong> existing function.</p>
</li>
</ul>
</li>
</ul>
<pre><code class="java">    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
          if(!SDKBox.onActivityResult(requestCode, resultCode, data)) {
            super.onActivityResult(requestCode, resultCode, data);
          }
    }
    @Override
    protected void onStart() {
          super.onStart();
          SDKBox.onStart();
    }
    @Override
    protected void onStop() {
          super.onStop();
          SDKBox.onStop();
    }
    @Override
    protected void onResume() {
          super.onResume();
          SDKBox.onResume();
    }
    @Override
    protected void onPause() {
          super.onPause();
          SDKBox.onPause();
    }
    @Override
    public void onBackPressed() {
          if(!SDKBox.onBackPressed()) {
            super.onBackPressed();
          }
    }
</code></pre>

<h2 id="proguard-optional">Proguard (optional)</h2>
<ul>
<li>Edit <code>project.properties</code>  to specify a <code>Proguard</code> configuration file. Example:</li>
</ul>
<pre><code>proguard.config=${sdk.dir}/tools/proguard/proguard-android.txt:proguard-project.txt
</code></pre>

<ul>
<li>Edit the file you specified to include each AdUnit's proguard configuration.</li>
</ul>
<p><strong>Note:</strong> Proguard only works with <strong>Release</strong> builds (i.e <code>cocos run -m release</code>) debug builds do not invoke Proguard rules.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        
        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/base.js"></script>
        

 
        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-70044300-2', 'auto');
            ga('send', 'pageview');
        </script>
        
    </body>
</html>
